<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/MainActivity.kt" />
              <option name="originalContent" value="package com.example.diabetesapp&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import com.example.diabetesapp.ui.components.BottomNavBar&#10;import com.example.diabetesapp.ui.screens.HomeScreen&#10;import com.example.diabetesapp.ui.screens.CalculateBolusScreen&#10;import com.example.diabetesapp.ui.theme.DiabetesAppTheme&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        setContent {&#10;            DiabetesAppTheme {&#10;                MainScreen()&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun MainScreen() {&#10;    var selectedRoute by remember { mutableStateOf(&quot;home&quot;) }&#10;    var currentScreen by remember { mutableStateOf(&quot;home&quot;) }&#10;&#10;    Scaffold(&#10;        modifier = Modifier.fillMaxSize(),&#10;        bottomBar = {&#10;            // Only show bottom nav on main screens, not on detail screens&#10;            if (currentScreen in listOf(&quot;home&quot;, &quot;history&quot;, &quot;settings&quot;)) {&#10;                BottomNavBar(&#10;                    selectedRoute = selectedRoute,&#10;                    onNavigate = { route -&gt; &#10;                        selectedRoute = route&#10;                        currentScreen = route&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    ) { innerPadding -&gt;&#10;        when (currentScreen) {&#10;            &quot;home&quot; -&gt; HomeScreen(&#10;                modifier = Modifier.padding(innerPadding),&#10;                onNavigateToCalculateBolus = { currentScreen = &quot;calculate_bolus&quot; }&#10;            )&#10;            &quot;calculate_bolus&quot; -&gt; CalculateBolusScreen(&#10;                modifier = Modifier.padding(innerPadding),&#10;                onNavigateBack = { currentScreen = selectedRoute }&#10;            )&#10;            else -&gt; HomeScreen(&#10;                modifier = Modifier.padding(innerPadding),&#10;                onNavigateToCalculateBolus = { currentScreen = &quot;calculate_bolus&quot; }&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun MainScreenPreview() {&#10;    DiabetesAppTheme {&#10;        MainScreen()&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.diabetesapp&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import com.example.diabetesapp.ui.components.BottomNavBar&#10;import com.example.diabetesapp.ui.screens.HomeScreen&#10;import com.example.diabetesapp.ui.screens.CalculateBolusScreen&#10;import com.example.diabetesapp.ui.theme.DiabetesAppTheme&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        setContent {&#10;            DiabetesAppTheme {&#10;                MainScreen()&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun MainScreen() {&#10;    var selectedRoute by remember { mutableStateOf(&quot;home&quot;) }&#10;    var currentScreen by remember { mutableStateOf(&quot;home&quot;) }&#10;&#10;    Scaffold(&#10;        modifier = Modifier.fillMaxSize(),&#10;        bottomBar = {&#10;            // Only show bottom nav on main screens, not on detail screens&#10;            if (currentScreen in listOf(&quot;home&quot;, &quot;history&quot;, &quot;settings&quot;)) {&#10;                BottomNavBar(&#10;                    selectedRoute = selectedRoute,&#10;                    onNavigate = { route -&gt; &#10;                        selectedRoute = route&#10;                        currentScreen = route&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    ) { innerPadding -&gt;&#10;        when (currentScreen) {&#10;            &quot;home&quot; -&gt; HomeScreen(&#10;                modifier = Modifier.padding(innerPadding),&#10;                onNavigateToCalculateBolus = { currentScreen = &quot;calculate_bolus&quot; }&#10;            )&#10;            &quot;calculate_bolus&quot; -&gt; CalculateBolusScreen(&#10;                modifier = Modifier.padding(innerPadding),&#10;                onNavigateBack = { currentScreen = selectedRoute }&#10;            )&#10;            else -&gt; HomeScreen(&#10;                modifier = Modifier.padding(innerPadding),&#10;                onNavigateToCalculateBolus = { currentScreen = &quot;calculate_bolus&quot; }&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun MainScreenPreview() {&#10;    DiabetesAppTheme {&#10;        MainScreen()&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/ui/components/BottomNavBar.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/ui/components/BottomNavBar.kt" />
              <option name="originalContent" value="package com.example.diabetesapp.ui.components&#10;&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;&#10;sealed class BottomNavItem(&#10;    val route: String,&#10;    val icon: ImageVector,&#10;    val label: String&#10;) {&#10;    object Home : BottomNavItem(&quot;home&quot;, Icons.Default.Home, &quot;Home&quot;)&#10;    object Bolus : BottomNavItem(&quot;bolus&quot;, Icons.Default.MedicalServices, &quot;Bolus&quot;)&#10;    object History : BottomNavItem(&quot;history&quot;, Icons.Default.DateRange, &quot;History&quot;)&#10;    object Stats : BottomNavItem(&quot;stats&quot;, Icons.Default.ShowChart, &quot;Stats&quot;)&#10;    object Settings : BottomNavItem(&quot;settings&quot;, Icons.Default.Settings, &quot;Settings&quot;)&#10;}&#10;&#10;@Composable&#10;fun BottomNavBar(&#10;    selectedRoute: String,&#10;    onNavigate: (String) -&gt; Unit&#10;) {&#10;    val items = listOf(&#10;        BottomNavItem.Home,&#10;        BottomNavItem.Bolus,&#10;        BottomNavItem.History,&#10;        BottomNavItem.Stats,&#10;        BottomNavItem.Settings&#10;    )&#10;&#10;    NavigationBar(&#10;        containerColor = Color.White,&#10;        contentColor = Color(0xFF00897B)&#10;    ) {&#10;        items.forEach { item -&gt;&#10;            NavigationBarItem(&#10;                icon = {&#10;                    Icon(&#10;                        imageVector = item.icon,&#10;                        contentDescription = item.label&#10;                    )&#10;                },&#10;                label = { Text(item.label) },&#10;                selected = selectedRoute == item.route,&#10;                onClick = { onNavigate(item.route) },&#10;                colors = NavigationBarItemDefaults.colors(&#10;                    selectedIconColor = Color(0xFF00897B),&#10;                    selectedTextColor = Color(0xFF00897B),&#10;                    indicatorColor = Color(0xFFE0F2F1),&#10;                    unselectedIconColor = Color.Gray,&#10;                    unselectedTextColor = Color.Gray&#10;                )&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.diabetesapp.ui.components&#10;&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;&#10;sealed class BottomNavItem(&#10;    val route: String,&#10;    val icon: ImageVector,&#10;    val label: String&#10;) {&#10;    object Home : BottomNavItem(&quot;home&quot;, Icons.Default.Home, &quot;Home&quot;)&#10;    object Bolus : BottomNavItem(&quot;bolus&quot;, Icons.Default.MedicalServices, &quot;Bolus&quot;)&#10;    object History : BottomNavItem(&quot;history&quot;, Icons.Default.DateRange, &quot;History&quot;)&#10;    object Stats : BottomNavItem(&quot;stats&quot;, Icons.Default.ShowChart, &quot;Stats&quot;)&#10;    object Settings : BottomNavItem(&quot;settings&quot;, Icons.Default.Settings, &quot;Settings&quot;)&#10;}&#10;&#10;@Composable&#10;fun BottomNavBar(&#10;    selectedRoute: String,&#10;    onNavigate: (String) -&gt; Unit&#10;) {&#10;    val items = listOf(&#10;        BottomNavItem.Home,&#10;        BottomNavItem.Bolus,&#10;        BottomNavItem.History,&#10;        BottomNavItem.Stats,&#10;        BottomNavItem.Settings&#10;    )&#10;&#10;    NavigationBar(&#10;        containerColor = Color.White,&#10;        contentColor = Color(0xFF00897B)&#10;    ) {&#10;        items.forEach { item -&gt;&#10;            NavigationBarItem(&#10;                icon = {&#10;                    Icon(&#10;                        imageVector = item.icon,&#10;                        contentDescription = item.label&#10;                    )&#10;                },&#10;                label = { Text(item.label) },&#10;                selected = selectedRoute == item.route,&#10;                onClick = { onNavigate(item.route) },&#10;                colors = NavigationBarItemDefaults.colors(&#10;                    selectedIconColor = Color(0xFF00897B),&#10;                    selectedTextColor = Color(0xFF00897B),&#10;                    indicatorColor = Color(0xFFE0F2F1),&#10;                    unselectedIconColor = Color.Gray,&#10;                    unselectedTextColor = Color.Gray&#10;                )&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/ui/screens/CalculateBolusScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/ui/screens/CalculateBolusScreen.kt" />
              <option name="originalContent" value="package com.example.diabetesapp.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.example.diabetesapp.viewmodel.CalculateBolusViewModel&#10;import com.example.diabetesapp.viewmodel.InputMode&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun CalculateBolusScreen(&#10;    modifier: Modifier = Modifier,&#10;    onNavigateBack: () -&gt; Unit = {},&#10;    viewModel: CalculateBolusViewModel = viewModel()&#10;) {&#10;    val inputState by viewModel.inputState.collectAsState()&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFFF5F5F5))&#10;    ) {&#10;        // Top App Bar&#10;        TopAppBar(&#10;            title = {&#10;                Box(&#10;                    modifier = Modifier.offset(y = (-2).dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Calculate Bolus&quot;,&#10;                        fontWeight = FontWeight.SemiBold,&#10;                        fontSize = 18.sp&#10;                    )&#10;                }&#10;            },&#10;            navigationIcon = {&#10;                Box(&#10;                    modifier = Modifier.offset(y = (-2).dp)&#10;                ) {&#10;                    IconButton(onClick = onNavigateBack) {&#10;                        Icon(&#10;                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                            contentDescription = &quot;Back&quot;,&#10;                            modifier = Modifier.size(22.dp)&#10;                        )&#10;                    }&#10;                }&#10;            },&#10;            colors = TopAppBarDefaults.topAppBarColors(&#10;                containerColor = Color.White&#10;            ),&#10;            modifier = Modifier.height(56.dp)&#10;        )&#10;&#10;        // Screen Content&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .verticalScroll(rememberScrollState())&#10;                .padding(16.dp),&#10;            verticalArrangement = Arrangement.spacedBy(16.dp)&#10;        ) {&#10;            // Current Time Display&#10;            TimeDisplayCard(&#10;                currentDate = inputState.currentDate,&#10;                currentTime = inputState.currentTime,&#10;                onDateChange = { viewModel.updateDate(it) },&#10;                onTimeChange = { viewModel.updateTime(it) }&#10;            )&#10;&#10;            // Mode Toggle Buttons&#10;            ModeToggleButtons(&#10;                selectedMode = inputState.inputMode,&#10;                onModeSelected = { viewModel.setInputMode(it) }&#10;            )&#10;&#10;            // Input Fields Section&#10;            Card(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                shape = RoundedCornerShape(12.dp),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Input Values&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = Color(0xFF00897B)&#10;                    )&#10;&#10;                    // Blood Glucose&#10;                    InputField(&#10;                        label = &quot;Blood Glucose (mg/dL)&quot;,&#10;                        value = inputState.bloodGlucose,&#10;                        onValueChange = { viewModel.updateBloodGlucose(it) },&#10;                        isRequired = true&#10;                    )&#10;&#10;                    // Carbs&#10;                    InputField(&#10;                        label = &quot;Carbohydrates (g)&quot;,&#10;                        value = inputState.carbs,&#10;                        onValueChange = { viewModel.updateCarbs(it) },&#10;                        isRequired = true&#10;                    )&#10;&#10;                    // Manual Insulin - only show in MANUAL mode&#10;                    if (inputState.inputMode == InputMode.MANUAL) {&#10;                        InputField(&#10;                            label = &quot;Manual Insulin (U)&quot;,&#10;                            value = inputState.manualInsulin,&#10;                            onValueChange = { viewModel.updateManualInsulin(it) },&#10;                            isRequired = false&#10;                        )&#10;                    }&#10;&#10;                    // Correction Amount&#10;                    InputField(&#10;                        label = &quot;Correction Amount (U)&quot;,&#10;                        value = inputState.correctionAmount,&#10;                        onValueChange = { viewModel.updateCorrectionAmount(it) },&#10;                        isRequired = true&#10;                    )&#10;&#10;                    // Basal Rate Excess&#10;                    InputField(&#10;                        label = &quot;Basal Rate Excess (U/h)&quot;,&#10;                        value = inputState.basalRateExcess,&#10;                        onValueChange = { viewModel.updateBasalRateExcess(it) },&#10;                        isRequired = true&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(8.dp))&#10;&#10;            // Calculate Button&#10;            Button(&#10;                onClick = { viewModel.calculateBolus() },&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(56.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color(0xFF00897B)&#10;                ),&#10;                shape = RoundedCornerShape(12.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Calculate Bolus&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun ModeToggleButtons(&#10;    selectedMode: InputMode,&#10;    onModeSelected: (InputMode) -&gt; Unit&#10;) {&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Manual Input Button&#10;        Button(&#10;            onClick = { onModeSelected(InputMode.MANUAL) },&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(48.dp),&#10;            colors = ButtonDefaults.buttonColors(&#10;                containerColor = if (selectedMode == InputMode.MANUAL) &#10;                    Color(0xFF00897B) &#10;                else &#10;                    Color(0xFFE0E0E0),&#10;                contentColor = if (selectedMode == InputMode.MANUAL) &#10;                    Color.White &#10;                else &#10;                    Color(0xFF757575)&#10;            ),&#10;            shape = RoundedCornerShape(12.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;Manual Input&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;&#10;        // Calculate Bolus Button&#10;        Button(&#10;            onClick = { onModeSelected(InputMode.CALCULATE) },&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(48.dp),&#10;            colors = ButtonDefaults.buttonColors(&#10;                containerColor = if (selectedMode == InputMode.CALCULATE) &#10;                    Color(0xFF00897B) &#10;                else &#10;                    Color(0xFFE0E0E0),&#10;                contentColor = if (selectedMode == InputMode.CALCULATE) &#10;                    Color.White &#10;                else &#10;                    Color(0xFF757575)&#10;            ),&#10;            shape = RoundedCornerShape(12.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;Calculate Bolus&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun TimeDisplayCard(&#10;    currentDate: String,&#10;    currentTime: String,&#10;    onDateChange: (String) -&gt; Unit,&#10;    onTimeChange: (String) -&gt; Unit&#10;) {&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(containerColor = Color.White),&#10;        shape = RoundedCornerShape(12.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.padding(16.dp),&#10;            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;Date &amp; Time&quot;,&#10;                fontSize = 18.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF00897B)&#10;            )&#10;&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;            ) {&#10;                // Date Field&#10;                Column(&#10;                    modifier = Modifier.weight(1f),&#10;                    verticalArrangement = Arrangement.spacedBy(4.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Date&quot;,&#10;                        fontSize = 14.sp,&#10;                        fontWeight = FontWeight.Medium,&#10;                        color = Color(0xFF333333)&#10;                    )&#10;                    OutlinedTextField(&#10;                        value = currentDate,&#10;                        onValueChange = onDateChange,&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        placeholder = { Text(&quot;DD/MM/YYYY&quot;) },&#10;                        colors = OutlinedTextFieldDefaults.colors(&#10;                            focusedBorderColor = Color(0xFF00897B),&#10;                            unfocusedBorderColor = Color(0xFFCCCCCC)&#10;                        ),&#10;                        shape = RoundedCornerShape(8.dp),&#10;                        singleLine = true&#10;                    )&#10;                }&#10;&#10;                // Time Field&#10;                Column(&#10;                    modifier = Modifier.weight(1f),&#10;                    verticalArrangement = Arrangement.spacedBy(4.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Time&quot;,&#10;                        fontSize = 14.sp,&#10;                        fontWeight = FontWeight.Medium,&#10;                        color = Color(0xFF333333)&#10;                    )&#10;                    OutlinedTextField(&#10;                        value = currentTime,&#10;                        onValueChange = onTimeChange,&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        placeholder = { Text(&quot;HH:MM&quot;) },&#10;                        colors = OutlinedTextFieldDefaults.colors(&#10;                            focusedBorderColor = Color(0xFF00897B),&#10;                            unfocusedBorderColor = Color(0xFFCCCCCC)&#10;                        ),&#10;                        shape = RoundedCornerShape(8.dp),&#10;                        singleLine = true&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun InputField(&#10;    label: String,&#10;    value: String,&#10;    onValueChange: (String) -&gt; Unit,&#10;    isRequired: Boolean&#10;) {&#10;    Column(&#10;        verticalArrangement = Arrangement.spacedBy(4.dp)&#10;    ) {&#10;        Text(&#10;            text = if (isRequired) &quot;$label *&quot; else label,&#10;            fontSize = 14.sp,&#10;            fontWeight = FontWeight.Medium,&#10;            color = Color(0xFF333333)&#10;        )&#10;        OutlinedTextField(&#10;            value = value,&#10;            onValueChange = onValueChange,&#10;            modifier = Modifier.fillMaxWidth(),&#10;            keyboardOptions = KeyboardOptions(&#10;                keyboardType = KeyboardType.Decimal&#10;            ),&#10;            colors = OutlinedTextFieldDefaults.colors(&#10;                focusedBorderColor = Color(0xFF00897B),&#10;                unfocusedBorderColor = Color(0xFFCCCCCC)&#10;            ),&#10;            shape = RoundedCornerShape(8.dp),&#10;            singleLine = true&#10;        )&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.diabetesapp.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.example.diabetesapp.viewmodel.CalculateBolusViewModel&#10;import com.example.diabetesapp.viewmodel.InputMode&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun CalculateBolusScreen(&#10;    modifier: Modifier = Modifier,&#10;    onNavigateBack: () -&gt; Unit = {},&#10;    viewModel: CalculateBolusViewModel = viewModel()&#10;) {&#10;    val inputState by viewModel.inputState.collectAsState()&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFFF5F5F5))&#10;    ) {&#10;        // Top App Bar&#10;        TopAppBar(&#10;            title = {&#10;                Box(&#10;                    modifier = Modifier.offset(y = (-2).dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Calculate Bolus&quot;,&#10;                        fontWeight = FontWeight.SemiBold,&#10;                        fontSize = 18.sp&#10;                    )&#10;                }&#10;            },&#10;            navigationIcon = {&#10;                Box(&#10;                    modifier = Modifier.offset(y = (-2).dp)&#10;                ) {&#10;                    IconButton(onClick = onNavigateBack) {&#10;                        Icon(&#10;                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                            contentDescription = &quot;Back&quot;,&#10;                            modifier = Modifier.size(22.dp)&#10;                        )&#10;                    }&#10;                }&#10;            },&#10;            colors = TopAppBarDefaults.topAppBarColors(&#10;                containerColor = Color.White&#10;            ),&#10;            modifier = Modifier.height(56.dp)&#10;        )&#10;&#10;        // Screen Content&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .verticalScroll(rememberScrollState())&#10;                .padding(16.dp),&#10;            verticalArrangement = Arrangement.spacedBy(16.dp)&#10;        ) {&#10;            // Current Time Display&#10;            TimeDisplayCard(&#10;                currentDate = inputState.currentDate,&#10;                currentTime = inputState.currentTime,&#10;                onDateChange = { viewModel.updateDate(it) },&#10;                onTimeChange = { viewModel.updateTime(it) }&#10;            )&#10;&#10;            // Mode Toggle Buttons&#10;            ModeToggleButtons(&#10;                selectedMode = inputState.inputMode,&#10;                onModeSelected = { viewModel.setInputMode(it) }&#10;            )&#10;&#10;            // Input Fields Section&#10;            Card(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                shape = RoundedCornerShape(12.dp),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Input Values&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = Color(0xFF00897B)&#10;                    )&#10;&#10;                    // Blood Glucose&#10;                    InputField(&#10;                        label = &quot;Blood Glucose (mg/dL)&quot;,&#10;                        value = inputState.bloodGlucose,&#10;                        onValueChange = { viewModel.updateBloodGlucose(it) },&#10;                        isRequired = true&#10;                    )&#10;&#10;                    // Carbs&#10;                    InputField(&#10;                        label = &quot;Carbohydrates (g)&quot;,&#10;                        value = inputState.carbs,&#10;                        onValueChange = { viewModel.updateCarbs(it) },&#10;                        isRequired = true&#10;                    )&#10;&#10;                    // Manual Insulin - only show in MANUAL mode&#10;                    if (inputState.inputMode == InputMode.MANUAL) {&#10;                        InputField(&#10;                            label = &quot;Manual Insulin (U)&quot;,&#10;                            value = inputState.manualInsulin,&#10;                            onValueChange = { viewModel.updateManualInsulin(it) },&#10;                            isRequired = false&#10;                        )&#10;                    }&#10;&#10;                    // Correction Amount&#10;                    InputField(&#10;                        label = &quot;Correction Amount (U)&quot;,&#10;                        value = inputState.correctionAmount,&#10;                        onValueChange = { viewModel.updateCorrectionAmount(it) },&#10;                        isRequired = true&#10;                    )&#10;&#10;                    // Basal Rate Excess&#10;                    InputField(&#10;                        label = &quot;Basal Rate Excess (U/h)&quot;,&#10;                        value = inputState.basalRateExcess,&#10;                        onValueChange = { viewModel.updateBasalRateExcess(it) },&#10;                        isRequired = true&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(8.dp))&#10;&#10;            // Calculate Button&#10;            Button(&#10;                onClick = { viewModel.calculateBolus() },&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(56.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color(0xFF00897B)&#10;                ),&#10;                shape = RoundedCornerShape(12.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Calculate Bolus&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun ModeToggleButtons(&#10;    selectedMode: InputMode,&#10;    onModeSelected: (InputMode) -&gt; Unit&#10;) {&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        // Manual Input Button&#10;        Button(&#10;            onClick = { onModeSelected(InputMode.MANUAL) },&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(48.dp),&#10;            colors = ButtonDefaults.buttonColors(&#10;                containerColor = if (selectedMode == InputMode.MANUAL) &#10;                    Color(0xFF00897B) &#10;                else &#10;                    Color(0xFFE0E0E0),&#10;                contentColor = if (selectedMode == InputMode.MANUAL) &#10;                    Color.White &#10;                else &#10;                    Color(0xFF757575)&#10;            ),&#10;            shape = RoundedCornerShape(12.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;Manual Input&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;&#10;        // Calculate Bolus Button&#10;        Button(&#10;            onClick = { onModeSelected(InputMode.CALCULATE) },&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(48.dp),&#10;            colors = ButtonDefaults.buttonColors(&#10;                containerColor = if (selectedMode == InputMode.CALCULATE) &#10;                    Color(0xFF00897B) &#10;                else &#10;                    Color(0xFFE0E0E0),&#10;                contentColor = if (selectedMode == InputMode.CALCULATE) &#10;                    Color.White &#10;                else &#10;                    Color(0xFF757575)&#10;            ),&#10;            shape = RoundedCornerShape(12.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;Calculate Bolus&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun TimeDisplayCard(&#10;    currentDate: String,&#10;    currentTime: String,&#10;    onDateChange: (String) -&gt; Unit,&#10;    onTimeChange: (String) -&gt; Unit&#10;) {&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(containerColor = Color.White),&#10;        shape = RoundedCornerShape(12.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.padding(16.dp),&#10;            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;Date &amp; Time&quot;,&#10;                fontSize = 18.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF00897B)&#10;            )&#10;&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;            ) {&#10;                // Date Field&#10;                Column(&#10;                    modifier = Modifier.weight(1f),&#10;                    verticalArrangement = Arrangement.spacedBy(4.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Date&quot;,&#10;                        fontSize = 14.sp,&#10;                        fontWeight = FontWeight.Medium,&#10;                        color = Color(0xFF333333)&#10;                    )&#10;                    OutlinedTextField(&#10;                        value = currentDate,&#10;                        onValueChange = onDateChange,&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        placeholder = { Text(&quot;DD/MM/YYYY&quot;) },&#10;                        colors = OutlinedTextFieldDefaults.colors(&#10;                            focusedBorderColor = Color(0xFF00897B),&#10;                            unfocusedBorderColor = Color(0xFFCCCCCC)&#10;                        ),&#10;                        shape = RoundedCornerShape(8.dp),&#10;                        singleLine = true&#10;                    )&#10;                }&#10;&#10;                // Time Field&#10;                Column(&#10;                    modifier = Modifier.weight(1f),&#10;                    verticalArrangement = Arrangement.spacedBy(4.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Time&quot;,&#10;                        fontSize = 14.sp,&#10;                        fontWeight = FontWeight.Medium,&#10;                        color = Color(0xFF333333)&#10;                    )&#10;                    OutlinedTextField(&#10;                        value = currentTime,&#10;                        onValueChange = onTimeChange,&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        placeholder = { Text(&quot;HH:MM&quot;) },&#10;                        colors = OutlinedTextFieldDefaults.colors(&#10;                            focusedBorderColor = Color(0xFF00897B),&#10;                            unfocusedBorderColor = Color(0xFFCCCCCC)&#10;                        ),&#10;                        shape = RoundedCornerShape(8.dp),&#10;                        singleLine = true&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun InputField(&#10;    label: String,&#10;    value: String,&#10;    onValueChange: (String) -&gt; Unit,&#10;    isRequired: Boolean&#10;) {&#10;    Column(&#10;        verticalArrangement = Arrangement.spacedBy(4.dp)&#10;    ) {&#10;        Text(&#10;            text = if (isRequired) &quot;$label *&quot; else label,&#10;            fontSize = 14.sp,&#10;            fontWeight = FontWeight.Medium,&#10;            color = Color(0xFF333333)&#10;        )&#10;        OutlinedTextField(&#10;            value = value,&#10;            onValueChange = onValueChange,&#10;            modifier = Modifier.fillMaxWidth(),&#10;            keyboardOptions = KeyboardOptions(&#10;                keyboardType = KeyboardType.Decimal&#10;            ),&#10;            colors = OutlinedTextFieldDefaults.colors(&#10;                focusedBorderColor = Color(0xFF00897B),&#10;                unfocusedBorderColor = Color(0xFFCCCCCC)&#10;            ),&#10;            shape = RoundedCornerShape(8.dp),&#10;            singleLine = true&#10;        )&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/ui/screens/HomeScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/ui/screens/HomeScreen.kt" />
              <option name="originalContent" value="package com.example.diabetesapp.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.ui.res.painterResource&#10;import com.example.diabetesapp.R&#10;&#10;@Composable&#10;fun HomeScreen(&#10;    modifier: Modifier = Modifier,&#10;    onNavigateToCalculateBolus: () -&gt; Unit = {}&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFFF5F5F5))&#10;            .padding(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(16.dp)&#10;    ) {&#10;        // Header&#10;        HeaderSection()&#10;&#10;        Spacer(modifier = Modifier.weight(1f))&#10;&#10;        // Action Buttons&#10;        ActionButtons(onCalculateBolusClick = onNavigateToCalculateBolus)&#10;&#10;        // Educational Disclaimer&#10;        DisclaimerBanner()&#10;    }&#10;}&#10;&#10;@Composable&#10;fun HeaderSection() {&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.SpaceBetween,&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        Row(verticalAlignment = Alignment.CenterVertically) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.app_icon),&#10;                contentDescription = &quot;App Icon&quot;,&#10;                tint = Color.Unspecified,&#10;                modifier = Modifier.size(40.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Column {&#10;                Text(&#10;                    text = &quot;Diabetes Manager&quot;,&#10;                    fontSize = 18.sp,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;                Text(&#10;                    text = &quot;Make sports and diabetes easier!&quot;,&#10;                    fontSize = 12.sp,&#10;                    color = Color.Gray&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;&#10;@Composable&#10;fun SummaryItem(&#10;    icon: ImageVector,&#10;    label: String,&#10;    value: String&#10;) {&#10;    Row(&#10;        verticalAlignment = Alignment.CenterVertically,&#10;        modifier = Modifier.width(150.dp)&#10;    ) {&#10;        Icon(&#10;            imageVector = icon,&#10;            contentDescription = null,&#10;            tint = Color.Gray,&#10;            modifier = Modifier.size(18.dp)&#10;        )&#10;        Spacer(modifier = Modifier.width(8.dp))&#10;        Column {&#10;            Text(&#10;                text = label,&#10;                fontSize = 12.sp,&#10;                color = Color.Gray&#10;            )&#10;            Text(&#10;                text = value,&#10;                fontSize = 20.sp,&#10;                fontWeight = FontWeight.SemiBold&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun ActionButtons(onCalculateBolusClick: () -&gt; Unit = {}) {&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        Button(&#10;            onClick = onCalculateBolusClick,&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(56.dp),&#10;            colors = ButtonDefaults.buttonColors(&#10;                containerColor = Color(0xFF00897B)&#10;            ),&#10;            shape = RoundedCornerShape(12.dp)&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.Add,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(20.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Calculate Bolus&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;&#10;        OutlinedButton(&#10;            onClick = { /* TODO */ },&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(56.dp),&#10;            shape = RoundedCornerShape(12.dp),&#10;            colors = ButtonDefaults.outlinedButtonColors(&#10;                contentColor = Color(0xFF00897B)&#10;            )&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.InvertColors,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(20.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Log Reading&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun DisclaimerBanner() {&#10;    Surface(&#10;        color = Color(0xFFFFF4E6),&#10;        shape = RoundedCornerShape(12.dp),&#10;        modifier = Modifier.fillMaxWidth()&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.padding(12.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.Info,&#10;                contentDescription = null,&#10;                tint = Color(0xFFFF9800),&#10;                modifier = Modifier.size(20.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Educational Prototype: This app is for research purposes only. Always consult your healthcare provider for medical decisions.&quot;,&#10;                fontSize = 11.sp,&#10;                color = Color(0xFFE65100),&#10;                lineHeight = 14.sp&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.diabetesapp.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.ui.res.painterResource&#10;import com.example.diabetesapp.R&#10;&#10;@Composable&#10;fun HomeScreen(&#10;    modifier: Modifier = Modifier,&#10;    onNavigateToCalculateBolus: () -&gt; Unit = {}&#10;) {&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFFF5F5F5))&#10;            .padding(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(16.dp)&#10;    ) {&#10;        // Header&#10;        HeaderSection()&#10;&#10;        Spacer(modifier = Modifier.weight(1f))&#10;&#10;        // Action Buttons&#10;        ActionButtons(onCalculateBolusClick = onNavigateToCalculateBolus)&#10;&#10;        // Educational Disclaimer&#10;        DisclaimerBanner()&#10;    }&#10;}&#10;&#10;@Composable&#10;fun HeaderSection() {&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.SpaceBetween,&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        Row(verticalAlignment = Alignment.CenterVertically) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.app_icon),&#10;                contentDescription = &quot;App Icon&quot;,&#10;                tint = Color.Unspecified,&#10;                modifier = Modifier.size(40.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Column {&#10;                Text(&#10;                    text = &quot;Diabetes Manager&quot;,&#10;                    fontSize = 18.sp,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;                Text(&#10;                    text = &quot;Make sports and diabetes easier!&quot;,&#10;                    fontSize = 12.sp,&#10;                    color = Color.Gray&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;&#10;@Composable&#10;fun SummaryItem(&#10;    icon: ImageVector,&#10;    label: String,&#10;    value: String&#10;) {&#10;    Row(&#10;        verticalAlignment = Alignment.CenterVertically,&#10;        modifier = Modifier.width(150.dp)&#10;    ) {&#10;        Icon(&#10;            imageVector = icon,&#10;            contentDescription = null,&#10;            tint = Color.Gray,&#10;            modifier = Modifier.size(18.dp)&#10;        )&#10;        Spacer(modifier = Modifier.width(8.dp))&#10;        Column {&#10;            Text(&#10;                text = label,&#10;                fontSize = 12.sp,&#10;                color = Color.Gray&#10;            )&#10;            Text(&#10;                text = value,&#10;                fontSize = 20.sp,&#10;                fontWeight = FontWeight.SemiBold&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun ActionButtons(onCalculateBolusClick: () -&gt; Unit = {}) {&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;    ) {&#10;        Button(&#10;            onClick = onCalculateBolusClick,&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(56.dp),&#10;            colors = ButtonDefaults.buttonColors(&#10;                containerColor = Color(0xFF00897B)&#10;            ),&#10;            shape = RoundedCornerShape(12.dp)&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.Add,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(20.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Calculate Bolus&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;&#10;        OutlinedButton(&#10;            onClick = { /* TODO */ },&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .height(56.dp),&#10;            shape = RoundedCornerShape(12.dp),&#10;            colors = ButtonDefaults.outlinedButtonColors(&#10;                contentColor = Color(0xFF00897B)&#10;            )&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.InvertColors,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(20.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Log Reading&quot;,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun DisclaimerBanner() {&#10;    Surface(&#10;        color = Color(0xFFFFF4E6),&#10;        shape = RoundedCornerShape(12.dp),&#10;        modifier = Modifier.fillMaxWidth()&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.padding(12.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.Default.Info,&#10;                contentDescription = null,&#10;                tint = Color(0xFFFF9800),&#10;                modifier = Modifier.size(20.dp)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Educational Prototype: This app is for research purposes only. Always consult your healthcare provider for medical decisions.&quot;,&#10;                fontSize = 11.sp,&#10;                color = Color(0xFFE65100),&#10;                lineHeight = 14.sp&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/viewmodel/CalculateBolusViewModel.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/diabetesapp/viewmodel/CalculateBolusViewModel.kt" />
              <option name="originalContent" value="package com.example.diabetesapp.viewmodel&#10;&#10;import androidx.lifecycle.ViewModel&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import java.time.LocalDateTime&#10;import java.time.format.DateTimeFormatter&#10;&#10;enum class InputMode {&#10;    MANUAL,&#10;    CALCULATE&#10;}&#10;&#10;data class BolusInputState(&#10;    val inputMode: InputMode = InputMode.MANUAL,&#10;    val currentDate: String = &quot;&quot;,&#10;    val currentTime: String = &quot;&quot;,&#10;    val bloodGlucose: String = &quot;&quot;,&#10;    val carbs: String = &quot;&quot;,&#10;    val manualInsulin: String = &quot;&quot;,&#10;    val correctionAmount: String = &quot;&quot;,&#10;    val basalRateExcess: String = &quot;&quot;&#10;)&#10;&#10;class CalculateBolusViewModel : ViewModel() {&#10;    private val _inputState = MutableStateFlow(BolusInputState())&#10;    val inputState: StateFlow&lt;BolusInputState&gt; = _inputState.asStateFlow()&#10;&#10;    init {&#10;        updateCurrentDateTime()&#10;    }&#10;&#10;    private fun updateCurrentDateTime() {&#10;        val now = LocalDateTime.now()&#10;        val timeFormatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)&#10;        val dateFormatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)&#10;        val currentTime = now.format(timeFormatter)&#10;        val currentDate = now.format(dateFormatter)&#10;        _inputState.value = _inputState.value.copy(&#10;            currentTime = currentTime,&#10;            currentDate = currentDate&#10;        )&#10;    }&#10;&#10;    fun setInputMode(mode: InputMode) {&#10;        _inputState.value = _inputState.value.copy(inputMode = mode)&#10;    }&#10;&#10;    fun updateDate(value: String) {&#10;        _inputState.value = _inputState.value.copy(currentDate = value)&#10;    }&#10;&#10;    fun updateTime(value: String) {&#10;        _inputState.value = _inputState.value.copy(currentTime = value)&#10;    }&#10;&#10;    fun updateBloodGlucose(value: String) {&#10;        _inputState.value = _inputState.value.copy(bloodGlucose = value)&#10;    }&#10;&#10;    fun updateCarbs(value: String) {&#10;        _inputState.value = _inputState.value.copy(carbs = value)&#10;    }&#10;&#10;    fun updateManualInsulin(value: String) {&#10;        _inputState.value = _inputState.value.copy(manualInsulin = value)&#10;    }&#10;&#10;    fun updateCorrectionAmount(value: String) {&#10;        _inputState.value = _inputState.value.copy(correctionAmount = value)&#10;    }&#10;&#10;    fun updateBasalRateExcess(value: String) {&#10;        _inputState.value = _inputState.value.copy(basalRateExcess = value)&#10;    }&#10;&#10;    fun calculateBolus() {&#10;        val state = _inputState.value&#10;        // Placeholder function - will be implemented later&#10;        println(&quot;Calculate Bolus called with:&quot;)&#10;        println(&quot;Date: ${state.currentDate}&quot;)&#10;        println(&quot;Time: ${state.currentTime}&quot;)&#10;        println(&quot;Blood Glucose: ${state.bloodGlucose}&quot;)&#10;        println(&quot;Carbs: ${state.carbs}&quot;)&#10;        println(&quot;Manual Insulin: ${state.manualInsulin}&quot;)&#10;        println(&quot;Correction Amount: ${state.correctionAmount}&quot;)&#10;        println(&quot;Basal Rate Excess: ${state.basalRateExcess}&quot;)&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.diabetesapp.viewmodel&#10;&#10;import androidx.lifecycle.ViewModel&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import java.time.LocalDateTime&#10;import java.time.format.DateTimeFormatter&#10;&#10;enum class InputMode {&#10;    MANUAL,&#10;    CALCULATE&#10;}&#10;&#10;data class BolusInputState(&#10;    val inputMode: InputMode = InputMode.MANUAL,&#10;    val currentDate: String = &quot;&quot;,&#10;    val currentTime: String = &quot;&quot;,&#10;    val bloodGlucose: String = &quot;&quot;,&#10;    val carbs: String = &quot;&quot;,&#10;    val manualInsulin: String = &quot;&quot;,&#10;    val correctionAmount: String = &quot;&quot;,&#10;    val basalRateExcess: String = &quot;&quot;&#10;)&#10;&#10;class CalculateBolusViewModel : ViewModel() {&#10;    private val _inputState = MutableStateFlow(BolusInputState())&#10;    val inputState: StateFlow&lt;BolusInputState&gt; = _inputState.asStateFlow()&#10;&#10;    init {&#10;        updateCurrentDateTime()&#10;    }&#10;&#10;    private fun updateCurrentDateTime() {&#10;        val now = LocalDateTime.now()&#10;        val timeFormatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)&#10;        val dateFormatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)&#10;        val currentTime = now.format(timeFormatter)&#10;        val currentDate = now.format(dateFormatter)&#10;        _inputState.value = _inputState.value.copy(&#10;            currentTime = currentTime,&#10;            currentDate = currentDate&#10;        )&#10;    }&#10;&#10;    fun setInputMode(mode: InputMode) {&#10;        _inputState.value = _inputState.value.copy(inputMode = mode)&#10;    }&#10;&#10;    fun updateDate(value: String) {&#10;        _inputState.value = _inputState.value.copy(currentDate = value)&#10;    }&#10;&#10;    fun updateTime(value: String) {&#10;        _inputState.value = _inputState.value.copy(currentTime = value)&#10;    }&#10;&#10;    fun updateBloodGlucose(value: String) {&#10;        _inputState.value = _inputState.value.copy(bloodGlucose = value)&#10;    }&#10;&#10;    fun updateCarbs(value: String) {&#10;        _inputState.value = _inputState.value.copy(carbs = value)&#10;    }&#10;&#10;    fun updateManualInsulin(value: String) {&#10;        _inputState.value = _inputState.value.copy(manualInsulin = value)&#10;    }&#10;&#10;    fun updateCorrectionAmount(value: String) {&#10;        _inputState.value = _inputState.value.copy(correctionAmount = value)&#10;    }&#10;&#10;    fun updateBasalRateExcess(value: String) {&#10;        _inputState.value = _inputState.value.copy(basalRateExcess = value)&#10;    }&#10;&#10;    fun calculateBolus() {&#10;        val state = _inputState.value&#10;        // Placeholder function - will be implemented later&#10;        println(&quot;Calculate Bolus called with:&quot;)&#10;        println(&quot;Date: ${state.currentDate}&quot;)&#10;        println(&quot;Time: ${state.currentTime}&quot;)&#10;        println(&quot;Blood Glucose: ${state.bloodGlucose}&quot;)&#10;        println(&quot;Carbs: ${state.carbs}&quot;)&#10;        println(&quot;Manual Insulin: ${state.manualInsulin}&quot;)&#10;        println(&quot;Correction Amount: ${state.correctionAmount}&quot;)&#10;        println(&quot;Basal Rate Excess: ${state.basalRateExcess}&quot;)&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>